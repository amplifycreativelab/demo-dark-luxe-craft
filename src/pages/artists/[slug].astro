---
import MainLayout from "../../layouts/MainLayout.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import InkHeading from "../../components/InkHeading.astro";
import GalleryMasonry from "../../components/GalleryMasonry.astro";
import BookingForm from "../../components/BookingForm.astro";
import { artists } from "../../data/artists";
import { Image } from "astro:assets";

export async function getStaticPaths() {
    return artists.map((artist) => ({
        params: { slug: artist.slug },
        props: { artist },
    }));
}

const { artist } = Astro.props;
---

<MainLayout title={artist.name}>
    <Header slot="header" />

    <section class="pt-24 pb-32 px-6 md:px-12 max-w-[1280px] mx-auto">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-24 items-start">
            <div
                class="aspect-[4/5] bg-surface border border-divider overflow-hidden group"
            >
                <Image
                    src={artist.image}
                    alt={artist.name}
                    class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-1000"
                />
            </div>

            <div class="space-y-12">
                <div>
                    <p
                        class="text-[10px] tracking-[0.5em] uppercase text-metallic-accent mb-6"
                    >
                        Resident Artist
                    </p>
                    <InkHeading
                        level={1}
                        class="text-5xl md:text-8xl uppercase mb-8"
                        >{artist.name}</InkHeading
                    >
                    <div class="flex space-x-12 border-y border-divider py-6">
                        <div>
                            <p
                                class="text-[10px] uppercase tracking-widest text-warm-grey mb-1"
                            >
                                Specialty
                            </p>
                            <p class="text-sm">{artist.specialty}</p>
                        </div>
                        <div>
                            <p
                                class="text-[10px] uppercase tracking-widest text-warm-grey mb-1"
                            >
                                Experience
                            </p>
                            <p class="text-sm">{artist.experience}</p>
                        </div>
                    </div>
                </div>

                <p class="text-warm-grey text-lg leading-relaxed">
                    {artist.bio}
                </p>

                <div class="pt-12">
                    <a
                        href="#artist-enquiry"
                        class="px-12 py-5 bg-metallic-accent text-charcoal font-body text-xs uppercase tracking-[0.3em] hover:bg-ink-text transition-colors duration-500"
                    >
                        Request Booking
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Artist Portfolio -->
    <section class="py-32 bg-surface">
        <div class="px-6 md:px-12 max-w-[1280px] mx-auto">
            <InkHeading class="text-4xl md:text-6xl uppercase mb-16"
                >Portfolio</InkHeading
            >
            <GalleryMasonry artistId={artist.id} />
        </div>
    </section>

    <!-- Artist Specific Enquiry -->
    <section
        id="artist-enquiry"
        class="py-32 px-6 md:px-12 max-w-[1280px] mx-auto"
    >
        <div class="max-w-xl mx-auto text-center mb-24">
            <p
                class="text-[10px] tracking-[0.5em] uppercase text-metallic-accent mb-6"
            >
                Enquiry
            </p>
            <InkHeading class="text-5xl uppercase mb-8"
                >Work with {artist.name.split(" ")[0]}</InkHeading
            >
            <p class="text-warm-grey">
                Please provide details about your project to begin the
                consultation process.
            </p>
        </div>
        <BookingForm />
    </section>

    <Footer slot="footer" />
</MainLayout>
